

@model IEnumerable<Employee> 


@{
    ViewData["Title"] = "Index";
    // ViewData["Message"];
    string? ViewDataMessage = ViewData["Message"] as string;
    // string? ViewBagMessage = ViewBag.Message;
}

<h1>All Employee </h1>



<br />
<br />
     @*  <div class="m-3 alert alert-danger">

      <p> 
          @ViewData["Message"]

      </p>

      </div>
 *@
@* <div class="m-3 alert alert-danger">

    <p>
        @ViewBag.Message

    </p>

</div> *@

@*  <div class="m-3 alert alert-info">

    <p>
        @TempData["Message"]
    </p>

</div> 
 *@
@if (!string.IsNullOrEmpty(TempData["Message"] as string))

{
    <div class="m-3 alert alert-info">

        <p>
            @TempData["Message"]
        </p>

    </div>



}


<a asp-action="Create" class="btn btn-primary">Create Employee</a>

<br />
<br />

@if (Model.Count() > 0)
{
    <table class="table table-hover table-striped">

        <thead>
            <tr>
                <th>

                   Name
                </th>

                <th>

                  Age
                </th>
                <th>

                    Salary
                </th>
                <th>

                  Email
                </th>

                <th>

                   Address
                </th>
                <th>

                   Phone
                </th>
               
                <th>

                    IsActive
                </th>
                <th>

                    IsDeleted
                </th>
                <th>

                   HiringDate
                </th>
                <th>

                   CreateAt
                </th>
               
                <th>
                    Department
                </th>
                
                <th>
                    Detail
                </th>
                <th>
                    Update
                </th>
                <th>
                    Delete
                </th>
            </tr>

        </thead>

        <tbody>

            @foreach (var item in Model)
            
            {
                <tr>
                    <td>

                        @item.Name


                    </td>
                    <td>

                        @item.Age


                    </td>

                    <td>

                        @item.Salary


                    </td>
                    <td>

                        @item.Email


                    </td>
                    <td>

                        @item.Address


                    </td>
                    <td>

                        @item.Phone


                    </td>
           

                    <td>

                        @item.IsActive


                    </td>
                    <td>

                        @item.IsDeleted


                    </td>
                    <td>

                        @item.HiringDate


                    </td>
                    <td>

                        @item.CreateAt


                    </td>
                    <td>

                        @if (item.Department is null)
                        {


                            <td> No Department </td>
                        }
                        else
                        {
                            <td> @item.Department.Name</td>
                        }



                    </td>

                    <partial name="_ButtonPartialView" model="item.Id" />
                </tr>
            
            }
        </tbody>

    </table>

}
else
{
    

<div class="mt-4 alert alert-success">
    <h4>
        There is no Employees:(

    </h4>

</div>
} 